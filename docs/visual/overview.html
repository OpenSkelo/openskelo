<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>OpenSkelo Visual Overview</title>
  <style>
    :root{--bg:#0b1020;--card:#131b35;--border:#33406b;--text:#e8eeff;--muted:#aab8e6;--ok:#39d98a;--info:#7aa2ff;--warn:#ffd166}
    *{box-sizing:border-box} body{margin:0;font-family:Inter,system-ui;background:radial-gradient(1200px 700px at 20% -20%, #1f2a56 0%, var(--bg) 60%);color:var(--text)}
    .wrap{max-width:1200px;margin:16px auto;padding:0 16px 34px}
    h1{margin:0 0 6px;font-size:26px}.sub{color:var(--muted);margin-bottom:12px}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}@media(max-width:980px){.grid{grid-template-columns:1fr}}
    .card{border:1px solid var(--border);border-radius:12px;background:var(--card);padding:12px}
    .card h3{margin:0 0 8px}
    .chip{display:inline-block;padding:4px 8px;border-radius:999px;border:1px solid var(--border);font-size:11px;margin-right:6px}
    .ok{background:rgba(57,217,138,.14);border-color:rgba(57,217,138,.45)}
    .info{background:rgba(122,162,255,.14);border-color:rgba(122,162,255,.45)}
    .warn{background:rgba(255,209,102,.14);border-color:rgba(255,209,102,.45)}
    .pipeline{margin-top:8px;padding:10px;border:1px dashed #4762a8;border-radius:10px;background:#0f1730}
    .steps{display:flex;flex-wrap:wrap;align-items:center;gap:8px;font-size:12px}
    .node{padding:6px 9px;border:1px solid #3f568f;border-radius:8px;background:#1a274f}
    .n-input{background:rgba(122,162,255,.18);border-color:rgba(122,162,255,.55)}
    .n-work{background:rgba(255,209,102,.16);border-color:rgba(255,209,102,.55)}
    .n-gate{background:rgba(255,107,107,.16);border-color:rgba(255,107,107,.55)}
    .n-human{background:rgba(191,122,255,.18);border-color:rgba(191,122,255,.55)}
    .n-output{background:rgba(57,217,138,.18);border-color:rgba(57,217,138,.55)}
    .arrow{opacity:.75}
    .legend{margin-top:8px;font-size:11px;color:#b9c8f8;display:flex;gap:8px;flex-wrap:wrap}
    .lane{display:flex;align-items:center;gap:8px;flex-wrap:wrap;margin:6px 0}
    .lane-label{min-width:64px;font-size:11px;color:#9eb0e6;text-transform:uppercase;letter-spacing:.5px}
    .split{display:grid;grid-template-columns:1fr;gap:4px}
    .join{font-size:11px;color:#9eb0e6;margin:2px 0 0 72px}
    .mini-graph{margin-top:8px;border:1px dashed #4b63a7;border-radius:10px;padding:8px;background:#0c142b}
    .mini-graph svg{width:100%;height:auto;display:block}
    .g-edge{stroke:#7f94cc;stroke-width:2;fill:none;marker-end:url(#arrow)}
    .g-edge-loop{stroke:#d99dff;stroke-width:2;fill:none;marker-end:url(#arrow)}
    .g-node{rx:10;ry:10;stroke-width:1.5}
    .g-label{font-size:12px;fill:#e8eeff;font-weight:600}
    .g-lane{font-size:10px;fill:#9eb0e6;letter-spacing:.5px}
    ul{margin:6px 0 0 18px;color:#c7d5ff;font-size:13px}
    .mono{font-family:ui-monospace,Menlo,monospace}
  </style>
</head>
<body>
<div class="wrap" id="wrapRoot">
  <div id="localHeader">
    <h1>OpenSkelo — Overview</h1>
    <div class="sub">Runtime-first DAG orchestration. UI is optional; execution runs headless in background.</div>
  </div>

  <div class="card">
    <h3>Problem → Solution → What this enables</h3>
    <div class="pipeline">
      <div style="font-size:13px;line-height:1.6;color:#d9e4ff">
        <b>Problem (plain English):</b> Teams need reliable AI pipelines, but most flows are fragile, hard to debug, and too tied to one UI or provider.<br/>
        <b>Solution:</b> OpenSkelo runs a headless, deterministic DAG runtime with typed block contracts, approvals, durable replay, and optional visual/terminal monitoring.<br/>
        <b>What this enables:</b> You can run background pipelines safely, inspect exactly what happened, recover after restarts, and iterate with human-in-the-loop approvals without rebuilding your system every time.
      </div>
    </div>
  </div>

  <div class="card" style="margin-top:10px">
    <h3>How to think about OpenSkelo</h3>
    <span class="chip ok">Headless-first</span>
    <span class="chip info">Deterministic block contracts</span>
    <span class="chip warn">Human approvals + iteration loops</span>
    <ul>
      <li>Core runtime executes blocks using typed inputs/outputs and gates.</li>
      <li>Provider adapters handle the actual AI call boundary.</li>
      <li>Durable store keeps run snapshots, events, and approvals for replay/debug.</li>
      <li>Web/terminal UIs are observer/control surfaces, not execution engines.</li>
    </ul>
  </div>

  <div class="grid" style="margin-top:10px">
    <div class="card">
      <h3>Simple pipeline (starter)</h3>
      <div class="pipeline">
        <div class="steps">
          <span class="node n-input">Input</span><span class="arrow">→</span>
          <span class="node n-work">Generate</span><span class="arrow">→</span>
          <span class="node n-gate">Validate</span><span class="arrow">→</span>
          <span class="node n-output">Done</span>
        </div>
        <div class="legend">
          <span class="chip info">Blue = input/context</span>
          <span class="chip warn">Yellow = work block</span>
          <span class="chip" style="background:rgba(255,107,107,.14);border-color:rgba(255,107,107,.45)">Red = gate/risk</span>
          <span class="chip ok">Green = output/release</span>
        </div>
      </div>
      <ul>
        <li>Use case: one-shot artifact generation.</li>
        <li>2–4 blocks, minimal gates, no approval pauses.</li>
      </ul>
    </div>

    <div class="card">
      <h3>Standard pipeline (production baseline)</h3>
      <div class="pipeline">
        <div class="steps">
          <span class="node">Spec</span><span class="arrow">→</span>
          <span class="node">Build</span><span class="arrow">→</span>
          <span class="node">QA</span><span class="arrow">→</span>
          <span class="node">Polish</span><span class="arrow">→</span>
          <span class="node">Release</span>
        </div>
      </div>
      <ul>
        <li>Use case: iterative deliverable with quality checks.</li>
        <li>Adds contract enforcement, post-gates, and optional release approval.</li>
      </ul>
    </div>

    <div class="card">
      <h3>Complex pipeline (multi-branch)</h3>
      <div class="pipeline">
        <div class="mini-graph">
          <svg viewBox="0 0 560 220" role="img" aria-label="Multi-branch DAG with split and join">
            <defs>
              <marker id="arrow" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto" markerUnits="strokeWidth">
                <path d="M0,0 L8,4 L0,8 z" fill="#7f94cc"></path>
              </marker>
            </defs>
            <text x="8" y="28" class="g-lane">TRUNK</text>
            <text x="8" y="88" class="g-lane">BRANCH A</text>
            <text x="8" y="148" class="g-lane">BRANCH B</text>
            <text x="8" y="202" class="g-lane">MERGE</text>

            <rect class="g-node" x="70" y="10" width="86" height="32" fill="rgba(122,162,255,.2)" stroke="rgba(122,162,255,.7)"/><text class="g-label" x="94" y="31">Plan</text>
            <rect class="g-node" x="200" y="10" width="86" height="32" fill="rgba(255,209,102,.18)" stroke="rgba(255,209,102,.7)"/><text class="g-label" x="223" y="31">Split</text>

            <rect class="g-node" x="320" y="70" width="98" height="32" fill="rgba(255,209,102,.18)" stroke="rgba(255,209,102,.7)"/><text class="g-label" x="338" y="91">Build API</text>
            <rect class="g-node" x="442" y="70" width="98" height="32" fill="rgba(255,107,107,.18)" stroke="rgba(255,107,107,.7)"/><text class="g-label" x="462" y="91">API Test</text>

            <rect class="g-node" x="320" y="130" width="98" height="32" fill="rgba(255,209,102,.18)" stroke="rgba(255,209,102,.7)"/><text class="g-label" x="344" y="151">Build UI</text>
            <rect class="g-node" x="442" y="130" width="98" height="32" fill="rgba(255,107,107,.18)" stroke="rgba(255,107,107,.7)"/><text class="g-label" x="465" y="151">UI Test</text>

            <rect class="g-node" x="320" y="184" width="86" height="32" fill="rgba(255,209,102,.18)" stroke="rgba(255,209,102,.7)"/><text class="g-label" x="343" y="205">Merge</text>
            <rect class="g-node" x="430" y="184" width="110" height="32" fill="rgba(57,217,138,.18)" stroke="rgba(57,217,138,.7)"/><text class="g-label" x="454" y="205">Release</text>

            <path class="g-edge" d="M156 26 L200 26"/>
            <path class="g-edge" d="M286 26 C305 26, 302 86, 320 86"/>
            <path class="g-edge" d="M286 26 C305 26, 302 146, 320 146"/>
            <path class="g-edge" d="M418 86 L442 86"/>
            <path class="g-edge" d="M418 146 L442 146"/>
            <path class="g-edge" d="M540 86 C552 86, 555 200, 406 200"/>
            <path class="g-edge" d="M540 146 C552 146, 555 200, 406 200"/>
            <path class="g-edge" d="M406 200 L430 200"/>
          </svg>
        </div>
      </div>
      <ul>
        <li>Use case: parallel workstreams + merge validation.</li>
        <li>Read top-down: trunk splits into A/B branches, both must pass before merge/release.</li>
      </ul>
    </div>

    <div class="card">
      <h3>Advanced pipeline (human-in-loop + escalation)</h3>
      <div class="pipeline">
        <div class="mini-graph">
          <svg viewBox="0 0 560 240" role="img" aria-label="Advanced iterative DAG with approve path, reject loop, and safety escalation">
            <defs>
              <marker id="arrow2" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto" markerUnits="strokeWidth">
                <path d="M0,0 L8,4 L0,8 z" fill="#7f94cc"></path>
              </marker>
            </defs>
            <text x="8" y="28" class="g-lane">CYCLE N</text>
            <text x="8" y="122" class="g-lane">DECISION</text>
            <text x="8" y="214" class="g-lane">SAFETY</text>

            <rect class="g-node" x="86" y="10" width="94" height="32" fill="rgba(255,209,102,.18)" stroke="rgba(255,209,102,.7)"/><text class="g-label" x="114" y="31">Create</text>
            <rect class="g-node" x="214" y="10" width="94" height="32" fill="rgba(255,107,107,.18)" stroke="rgba(255,107,107,.7)"/><text class="g-label" x="237" y="31">Auto QA</text>
            <rect class="g-node" x="342" y="10" width="122" height="32" fill="rgba(191,122,255,.2)" stroke="rgba(191,122,255,.75)"/><text class="g-label" x="366" y="31">Human Review</text>

            <rect class="g-node" x="214" y="104" width="94" height="32" fill="rgba(57,217,138,.18)" stroke="rgba(57,217,138,.7)"/><text class="g-label" x="236" y="125">Approve</text>
            <rect class="g-node" x="342" y="104" width="86" height="32" fill="rgba(57,217,138,.18)" stroke="rgba(57,217,138,.7)"/><text class="g-label" x="370" y="125">Ship</text>
            <rect class="g-node" x="214" y="154" width="94" height="32" fill="rgba(255,107,107,.18)" stroke="rgba(255,107,107,.7)"/><text class="g-label" x="242" y="175">Reject</text>
            <rect class="g-node" x="342" y="154" width="170" height="32" fill="rgba(255,209,102,.18)" stroke="rgba(255,209,102,.7)"/><text class="g-label" x="358" y="175">Refine / From Scratch</text>

            <rect class="g-node" x="214" y="196" width="104" height="32" fill="rgba(255,107,107,.18)" stroke="rgba(255,107,107,.7)"/><text class="g-label" x="228" y="217">Max Cycles</text>
            <rect class="g-node" x="352" y="196" width="100" height="32" fill="rgba(191,122,255,.2)" stroke="rgba(191,122,255,.75)"/><text class="g-label" x="375" y="217">Escalate</text>

            <path class="g-edge" style="marker-end:url(#arrow2)" d="M180 26 L214 26"/>
            <path class="g-edge" style="marker-end:url(#arrow2)" d="M308 26 L342 26"/>
            <path class="g-edge" style="marker-end:url(#arrow2)" d="M403 42 L261 104"/>
            <path class="g-edge" style="marker-end:url(#arrow2)" d="M308 120 L342 120"/>
            <path class="g-edge" style="marker-end:url(#arrow2)" d="M403 42 L261 154"/>
            <path class="g-edge" style="marker-end:url(#arrow2)" d="M308 170 L342 170"/>
            <path class="g-edge-loop" style="marker-end:url(#arrow2)" d="M512 170 C540 170, 540 20, 180 20"/>
            <path class="g-edge" style="marker-end:url(#arrow2)" d="M261 186 L261 196"/>
            <path class="g-edge" style="marker-end:url(#arrow2)" d="M318 212 L352 212"/>
          </svg>
        </div>
      </div>
      <ul>
        <li>Use case: operator-guided refinement until approval.</li>
        <li>Reject loops back into next cycle; max-cycle breach escalates to human owner.</li>
      </ul>
    </div>
  </div>
</div>
<script>
  const params = new URLSearchParams(location.search);
  if (params.get('embed') === '1') {
    const h = document.getElementById('localHeader');
    if (h) h.style.display = 'none';
    const w = document.getElementById('wrapRoot');
    if (w) { w.style.margin = '0 auto'; w.style.paddingTop = '0'; }
    document.body.style.background = 'transparent';
  }
</script>
</body>
</html>